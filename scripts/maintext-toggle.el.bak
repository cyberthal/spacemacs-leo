;; * Toggle whether maintext autoloads
;; * Set the search locations

(defun cb-clear-org-agenda ()
  "Empties org-agenda-files"
  (interactive)
  (setq org-agenda-files nil)
  )

(defun cb-refresh-org-agenda ()
  "Fixes broken agenda from new, moved or moved files."
  (interactive)

  (with-eval-after-load 'org
    ;; add every dir but topical
    ;; cuz it's too big.  and because I need a place to pseudo-archive surplus TODO/DONE entries
    ;; indent two spaces or toggle script won't work
    (setq org-agenda-files nil)
    (load-org-agenda-files-recursively "~/1-mansort/1-main-text/1-human/1-Time/" )
    (load-org-agenda-files-recursively "~/1-mansort/1-main-text/1-human/2-People/" )
    (load-org-agenda-files-recursively "~/1-mansort/1-main-text/1-human/3-Location/" )
    (load-org-agenda-files-recursively "~/1-mansort/1-main-text/1-human/4-Object/" )
    (load-org-agenda-files-recursively "~/1-mansort/1-main-text/1-human/5-Action/" )
    (load-org-agenda-files-recursively "~/1-mansort/1-main-text/1-human/7-Scratch/" )
    )

)

(cb-refresh-org-agenda)

(provide 'maintext-toggle)
